pipeline {

          agent {
		  
		      label {
			  
			      label "built-in"
				  customWorkspace "/mnt/project/"
			  }
		  }
		  
		  stages {
		  
		     stage ("deploy game-of") {
			 
			     steps {
				 sh "docker-compose down"
				 //sh "rm -rf /mnt/project/*"
				 sh "mvn install"
				 sh "cp /mnt/project/gameoflife-web/target/gameoflife.war /mnt/project"
				 sh "docker-compose up -d"
				 			
				 }
			 
			 
			 }
		  
		  
		  }
		  
}
